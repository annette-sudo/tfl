digraph Automaton {
  rankdir=LR;  
  splines=true;
  overlap=false;
  node [shape = circle]; // Обычные состояния



  q0 [label="ε"];
  q1 [label="a"];
  q2 [label="aa"];
  q3 [label="aaa"];
  q4 [label="aab"];
  q5 [label="aaba"];
  q6 [label="aabb"];
  q7 [label="aabbb"];
  q8 [label="ab"];
  q9 [label="aba"];
  q10 [label="abb"];
  q11 [label="abbb"];
  q12 [label="b"];
  q13 [label="ba"];
  q14 [label="baa"];
  q15 [label="baab"];
  q16 [label="bab"];
  q17 [label="babb"];
  q18 [label="bb"];
  q19 [label="bbb"];


  q0 -> q1 [label="a"];
  q0 -> q12 [label="b"];

  q1 -> q2 [label="a"];
  q1 -> q8 [label="b"];

  q2 -> q3 [label="a"];
  q2 -> q4 [label="b"];

  q3 -> q3 [label="a, b"];

  q4 -> q5 [label="a"];
  q4 -> q6 [label="b"];

  q5 -> q3 [label="a, b"];

  q6 -> q3 [label="a"];
  q6 -> q7 [label="b"];

  q7 -> q3 [label="a"];
  q7 -> q5 [label="b"];  

  q8 -> q9 [label="a"];
  q8 -> q10 [label="b"];

  q9 -> q3 [label="a, b"];

  q10 -> q3 [label="a"];
  q10 -> q11 [label="b"];

  q11 -> q3 [label="a"];
  q11 -> q9 [label="b"];



  q12 -> q13 [label="a"];
  q12 -> q18 [label="b"];

  q13 -> q14 [label="a"];
  q13 -> q16 [label="b"];

  q14 -> q3 [label="a"];
  q14 -> q15 [label="b"];

  q15 -> q3 [label="a, b"];

  q16 -> q15 [label="a"];
  q16 -> q17 [label="b"];

  q17 -> q3 [label="a"];
  q17 -> q14 [label="b"];  

  q18 -> q16 [label="a"];
  q18 -> q19 [label="b"];

  q19 -> q17 [label="a"];
  q19 -> q13 [label="b"];


}

